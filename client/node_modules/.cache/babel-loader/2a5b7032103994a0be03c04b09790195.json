{"remainingRequest":"/home/huhe/flask123/flask_book/client/node_modules/babel-loader/lib/index.js!/home/huhe/flask123/flask_book/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/huhe/flask123/flask_book/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/huhe/flask123/flask_book/client/src/components/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/huhe/flask123/flask_book/client/src/components/Home.vue","mtime":1584964945541},{"path":"/home/huhe/flask123/flask_book/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/huhe/flask123/flask_book/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/huhe/flask123/flask_book/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/huhe/flask123/flask_book/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvaHVoZS9mbGFzazEyMy9mbGFza19ib29rL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g5a2Y5pS+5ZCO56uv55qE5Lmm57GNCiAgICAgIGJvb2tzOiBbXSwKICAgICAgLy8g5re75Yqg5Lmm57GN55qE5a+56K+d5qGGCiAgICAgIGFkZEJvb2tWaXNpYmxlOiBmYWxzZSwKICAgICAgLy8g5a2Y5pS+5re75Yqg5Lmm57GN6KGo5qC85pWw5o2uCiAgICAgIGFkZEJvb2tGb3JtOiB7CiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIGF1dGhvcjogIiIsCiAgICAgICAgcmVhZDogZmFsc2UKICAgICAgfSwKICAgICAgLy8g5re75Yqg5Lmm57GN6KeE5YiZCiAgICAgIGFkZEJvb2tSdWxlczogewogICAgICAgIHRpdGxlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5Lmm57GN5ZCN56ewIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGF1dGhvcjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeS9nOiAheWQjeensCIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9LAogICAgICAvLyDnvJbovpHkuabnsY3lr7nor53moYYKICAgICAgZWRpdEJvb2tWaXNpYmxlOiBmYWxzZSwKICAgICAgLy8g5a2Y5pS+57yW6L6R5Lmm57GN55qE5a+56LGhCiAgICAgIGVkaXRGb3JtOiB7fQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEJvb2tzOiBmdW5jdGlvbiBnZXRCb29rcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kaHR0cC5nZXQoImJvb2tzIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLnN0YXR1cykKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5zdGF0dXMpCiAgICAgICAgICAgICAgICBfdGhpcy5ib29rcyA9IHJlcy5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWRkQm9vazogZnVuY3Rpb24gYWRkQm9vaygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLmJvb2tSZWYudmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHZhbGlkKSB7CiAgICAgICAgICB2YXIgcmVzOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJGh0dHAucG9zdCgiYWRkIiwgX3RoaXMyLmFkZEJvb2tGb3JtKTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOyAvLyDov5nph4zliKTmlq3opoHliqDlvJXlj7cnJyDmlbDlrZfml6Dms5Xor4bliKsKCiAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzICE9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoIua3u+WKoOS5puexjeWksei0pSIpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2Vzcygi5re75Yqg5Lmm57GN5oiQ5YqfIik7CgogICAgICAgICAgICAgICAgICBfdGhpczIuYWRkQm9va1Zpc2libGUgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5nZXRCb29rcygpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCiAgICAvLyDmuIXnqbrmt7vliqDkuabnsY3ovpPlhaXmoYYKICAgIGFkZERpYWxvZ0Nsb3NlZDogZnVuY3Rpb24gYWRkRGlhbG9nQ2xvc2VkKCkgewogICAgICB0aGlzLiRyZWZzLmJvb2tSZWYucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgICAvLyDnvJbovpHkuabnsY3lr7nor53moYYKICAgIHNob3dFZGl0RGlhbG9nOiBmdW5jdGlvbiBzaG93RWRpdERpYWxvZyhpZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJGh0dHAuZ2V0KCJzaG93Ym9va3MvIiArIGlkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICAvLyDnnItyZXMuZGF0YSDkvJrlj5HnjrDlh7rnjrDkuoYgX19vYl9fOiBPYnNlcnZlcgogICAgICAgICAgICAgICAgLy8g6L+Z5pivdnVlIOmHjOeahOeJueaApwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhWzBdKTsKCiAgICAgICAgICAgICAgICBpZiAoIShyZXMuc3RhdHVzICE9PSAyMDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF90aGlzMy4kbWVzc2FnZS5lcnJvcigi5p+l6K+i5Lmm57GN5aSx6LSlIikpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAvLyDluKYgWzBdIOWPr+S7peaJjeiDveiOt+W+l+aVsOaNrgogICAgICAgICAgICAgICAgX3RoaXMzLmVkaXRGb3JtID0gcmVzLmRhdGFbMF07CiAgICAgICAgICAgICAgICBfdGhpczMuZWRpdEJvb2tWaXNpYmxlID0gdHJ1ZTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g55uR5ZCs5Lmm57GN5L+u5pS55a+56K+d5qGG55qE5YWz6Zet5LqL5Lu2CiAgICBlZGl0RGlhbG9nQ2xvc2VkOiBmdW5jdGlvbiBlZGl0RGlhbG9nQ2xvc2VkKCkgewogICAgICB0aGlzLiRyZWZzLmVkaXRGb3JtUmVmLnJlc2V0RmllbGRzKCk7CiAgICB9LAogICAgLy8g5L+u5pS55Lmm57GN5L+h5oGvCiAgICBlZGl0Qm9va0luZm86IGZ1bmN0aW9uIGVkaXRCb29rSW5mbygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLmVkaXRGb3JtUmVmLnZhbGlkYXRlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQodmFsaWQpIHsKICAgICAgICAgIHZhciByZXM7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzNC5lZGl0Rm9ybSk7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kaHR0cC5wb3N0KCJlZGl0Ym9va3MvIiArIF90aGlzNC5lZGl0Rm9ybS5pZCwgX3RoaXM0LmVkaXRGb3JtKTsKCiAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgICAgICAgICAgaWYgKCEocmVzLnN0YXR1cyAhPT0gMjAwKSkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIF90aGlzNC4kbWVzc2FnZS5lcnJvcigi5L+u5pS55aSx6LSlIikpOwoKICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgLy/lhbPpl63lr7nor53moYYg5Yi35paw6aG16Z2iIOaPkOekuuS/ruaUueaIkOWKnwogICAgICAgICAgICAgICAgICBfdGhpczQuZWRpdEJvb2tWaXNpYmxlID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICBfdGhpczQuZ2V0Qm9va3MoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5zdWNjZXNzKCLkv67mlLnmiJDlip8iKTsKCiAgICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCiAgICAvLyDliKDpmaTkuabnsY0g5qC55o2uaWTlgLwKICAgIGRlbGV0ZUJvb2s6IGZ1bmN0aW9uIGRlbGV0ZUJvb2soaWQpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgcmVzLCByZXMyOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LiRjb25maXJtKCLmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6XkuabnsY0sIOaYr+WQpue7p+e7rT8iLCAi5o+Q56S6IiwgewogICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycjsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDUuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIShyZXMgIT09ICJjb25maXJtIikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgX3RoaXM1LiRtZXNzYWdlLmluZm8oIuW3suWPlua2iOWIoOmZpCIpKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS4kaHR0cC5wb3N0KCJkZWxldGUvIiArIGlkKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgcmVzMiA9IF9jb250ZXh0NS5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKHJlczIuc3RhdHVzICE9PSAyMDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBfdGhpczUuJG1lc3NhZ2UuZXJyb3IoIuWIoOmZpOWksei0pSIpKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF90aGlzNS5nZXRCb29rcygpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBfdGhpczUuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIikpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRCb29rcygpOwogIH0KfTs="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"home_container\">\n    <el-container>\n      <el-header>图书馆</el-header>\n      <el-main>\n        <!-- 添加书籍按钮 -->\n        <div style=\"text-align:center\">\n          <el-button type=\"primary\" @click=\"addBookVisible = true\" round>添加书籍</el-button>\n        </div>\n\n        <!-- 书籍表格 -->\n        <div style=\"margin-top:20px; width:700px\">\n          <el-table :data=\"books\" style=\"width: 100%\">\n            <el-table-column label=\"书名\" width=\"180\">\n              <template slot-scope=\"scope\">\n                <i class=\"el-icon-reading\"></i>\n                <span style=\"margin-left: 10px\">{{ scope.row.title }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"作者\" width=\"180\">\n              <template slot-scope=\"scope\">\n                <i class=\"el-icon-user-solid\"></i>\n                <span style=\"margin-left: 10px\">{{ scope.row.author }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"是否已读\" width=\"180\">\n              <template slot-scope=\"scope\">\n                <span style=\"margin-left: 10px\">\n                  <el-button type=\"primary\" v-if=\"scope.row.read\">已读</el-button>\n                  <el-button type=\"danger\" v-else>未读</el-button>\n                </span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"操作\">\n              <template slot-scope=\"scope\">\n                <el-button size=\"mini\" @click=\"showEditDialog(scope.row.id)\">编辑</el-button>\n                <el-button size=\"mini\" type=\"danger\" @click=\"deleteBook(scope.row.id)\">删除</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n      </el-main>\n    </el-container>\n\n    <!-- 添加书籍对话框 -->\n    <el-dialog title=\"添加书籍\" :visible.sync=\"addBookVisible\" width=\"30%\" @close=\"addDialogClosed\">\n      <el-form ref=\"bookRef\" :model=\"addBookForm\" :rules=\"addBookRules\" label-width=\"80px\">\n        <el-form-item label=\"书籍名称\" prop=\"title\">\n          <el-input v-model=\"addBookForm.title\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"作者名称\" prop=\"author\">\n          <el-input v-model=\"addBookForm.author\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"是否读过\">\n          <el-switch v-model=\"addBookForm.read\"></el-switch>\n        </el-form-item>\n      </el-form>\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addBookVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"addBook\">确 定</el-button>\n      </span>\n    </el-dialog>\n\n    <!--编辑对话框 -->\n    <el-dialog title=\"编辑\" :visible.sync=\"editBookVisible\" width=\"30%\" @close=\"editDialogClosed\">\n      <el-form ref=\"editFormRef\" :model=\"editForm\" :rules=\"addBookRules\" label-width=\"80px\">\n        <el-form-item label=\"书籍名称\" prop=\"title\">\n          <el-input v-model=\"editForm.title\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"作者名称\" prop=\"author\">\n          <el-input v-model=\"editForm.author\"></el-input>\n        </el-form-item>\n        \n        <el-form-item label=\"是否读过\">\n          <el-switch v-model=\"editForm.read\" active-color=\"#13ce66\" inactive-color=\"#ff4949\"></el-switch>\n        </el-form-item>\n\n      </el-form>\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"editBookVisible = false\">取 消</el-button>\n        <el-button @click=\"editBookInfo\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      // 存放后端的书籍\n      books: [],\n      // 添加书籍的对话框\n      addBookVisible: false,\n      // 存放添加书籍表格数据\n      addBookForm: {\n        title: \"\",\n        author: \"\",\n        read: false\n      },\n      // 添加书籍规则\n      addBookRules: {\n        title: [{ required: true, message: \"请输入书籍名称\", trigger: \"blur\" }],\n        author: [{ required: true, message: \"请输入作者名称\", trigger: \"blur\" }]\n      },\n      // 编辑书籍对话框\n      editBookVisible: false,\n      // 存放编辑书籍的对象\n      editForm: {}\n    };\n  },\n  methods: {\n    async getBooks() {\n      // 获取书籍\n      const res = await this.$http.get(\"books\");\n      // console.log(res);\n      // console.log(res.status)\n      // console.log(res.status)\n      this.books = res.data;\n    },\n    addBook() {\n      this.$refs.bookRef.validate(async valid => {\n        if (!valid) return;\n        //添加书籍请求\n        const res = await this.$http.post(\"add\", this.addBookForm);\n        console.log(res);\n        // 这里判断要加引号'' 数字无法识别\n        if (res.status !== 200) {\n          this.$message.error(\"添加书籍失败\");\n        }\n        this.$message.success(\"添加书籍成功\");\n        this.addBookVisible = false;\n        this.getBooks();\n      });\n    },\n    // 清空添加书籍输入框\n    addDialogClosed() {\n      this.$refs.bookRef.resetFields();\n    },\n\n    // 编辑书籍对话框\n    async showEditDialog(id) {\n      // console.log(id)\n      const res = await this.$http.get(\"showbooks/\" + id);\n      // 看res.data 会发现出现了 __ob__: Observer\n      // 这是vue 里的特性\n      console.log(res);\n      console.log(res.data[0]);\n      if (res.status !== 200) {\n        return this.$message.error(\"查询书籍失败\");\n      }\n      // 带 [0] 可以才能获得数据\n      this.editForm = res.data[0];\n\n      this.editBookVisible = true;\n    },\n    // 监听书籍修改对话框的关闭事件\n    editDialogClosed() {\n      this.$refs.editFormRef.resetFields();\n    },\n    // 修改书籍信息\n    editBookInfo() {\n      this.$refs.editFormRef.validate(async valid => {\n        if (!valid) return;\n        console.log(this.editForm);\n        const res = await this.$http.post(\n          \"editbooks/\" + this.editForm.id,\n          this.editForm\n        );\n        console.log(res);\n        if (res.status !== 200) {\n          return this.$message.error(\"修改失败\");\n        }\n\n        //关闭对话框 刷新页面 提示修改成功\n        this.editBookVisible = false;\n        this.getBooks();\n        this.$message.success(\"修改成功\");\n      });\n    },\n    // 删除书籍 根据id值\n    async deleteBook(id) {\n      // 弹框提示用户删除书籍\n      const res = await this.$confirm(\n        \"此操作将永久删除该书籍, 是否继续?\",\n        \"提示\",\n        {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\"\n        }\n      ).catch(err => err);\n      // 如果用户确认删除 则返回confirm 取消返回cancel\n\n      if (res !== \"confirm\") {\n        return this.$message.info(\"已取消删除\");\n      }\n\n      const res2 = await this.$http.post(\"delete/\" + id);\n      if (res2.status !== 200) {\n        return this.$message.error(\"删除失败\");\n      }\n\n      this.getBooks();\n      return this.$message.success(\"删除成功\");\n    }\n  },\n\n  created() {\n    this.getBooks();\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.home_container {\n  background-color: #fff2df;\n  height: 100%;\n}\n.el-header {\n  text-align: center;\n  font-size: 40px;\n  margin-top: 20px;\n}\n.el-main {\n  margin: 0 auto;\n}\n</style>"],"sourceRoot":"src/components"}]}